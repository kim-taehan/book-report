
# 켄트 벡의 구현 패턴 (읽기 수위 코드를 작성하는 77가지 자바 코딩 비법)
   
## 02 패턴
- 대부분의 프로그램에 적용되는 법칙 
  > - 프로그램을 새로 짜는 경우보다는 기존 프로그램을 읽는 경우가 많다.  
  > - 프로그램에 있어 '완성'은 없다 최초에 프로그램을 개발하는 뎅 드는 노력보다는 이후 프로그램을 수정하는 데 들어가는 노력이 더 크다  
  > - 프로그램 구조는 몇 가지 상태와 제어 흐름 개념으로 결정된다.  
  > - 프로그램을 읽는 사람은 개념과 더불어 세부 사항까지도 이해해야 한다. 
  세부사항을 이해해야 전체 개념에 대한 그림을 그릴 수 있고, 한편 전체 개념을 이해해야 세부적인 구현내용을 이해할 수 있기 떄문에다.
- 패턴은 이러한 프로그램 사이의 공통점을 기반으로 한다.

## 03 프로그래밍 이론
- 각 패턴에서 설명하는 이론 외에도 결정 사항에 영향을 미치는 많은 동력이 존재한다. 
  - 가치: 커뮤니케이션, 단순성, 유연성의 가치는 프로그램밍 할 떄 내리는 모든 의사결정에 영향을 미친다. 
  - 원칙: 중요하지만 떄로는 직접 정용하기 어려운 가치와, 적용법은 명확하지만 지엽적인 패턴 사이의 가교 역할을 하는 것이 바로 원칙이다.

### 가치 
- 훌륭한 프로그래밍에 있어 공통적인 가치는 커뮤니케이션, 단순성, 유연성이다. 

#### 커뮤니케이션 
- 개발자가 코드를 쉽게 이해하고, 수정하고, 사용할 수 있다면 그 코드는 개발자와 커뮤니케이션을 하고 있다고 할 수 있다. 
- 타인을 고려해서 프로그램을 짜면 코드를 이해하기 쉽고 깔끔해지며, 더 효율적이 되고 생각은 명확해진다. 
  새로운 관점에서 코드를 바라보게 되고, 다른 사람도 볼 수 있는 코드가 만들어진다. 

#### 단순성
- 복잡도를 낮추면 프로그램을 읽고 사용하고 수정하는 사람들이 프로그램을 훨씬 빨리 이해할수 있다. 
- 단순성은 독자의 수준에 따라 달라진다. 각종 프로그래밍 도구에 능숙한 전문 프로그래머에게는 단순한 내용이 초보자에게는 매우 복잡해볼일 수 있다. 
- 좋은 글을 쓰기 위해 독자층을 고려해야 하는 것처럼 좋은 프로그램을 작성하기 위해서는 독자 수준을 고려해야 한다. 

#### 유연성 
- 유연성은 비효울적인 코딩이나 설계를 정당화해주는 가치이다. 프로그램 개발 비용은 대부분 처음 프로그램이 작성된 후부터 들어간다는 점을 고려하면 프로그램 수정은 가급적 쉬워야 한다.
- 유연성은 복잡도를 증가시킨다. 하지만 이후의 프로그램 수정은 더욱 간단해진다. 

### 원칙
- 구현 패턴의 근간이 되는 몇가지 원칙을 알아본다. 

#### 지역적 변화
- 코드를 수정할 때 함께 바꿔야 하는 부분을 최소화하라. 프로그램의 어떤 부분을 수정한 것이 다른 부분에서 문제를 일으킬수 있으면 수정에 대한 비용이 증가한다. 
- 구현패턴을 사용하는 중요한 이유는 프로그램 수정 비용을 낮추기 위함인 것을 기억하자.

#### 최소중복
- 중복된 코드가 많으면 코드 수정이 어려워진다. 
- 중복을 없애는 한 가지 방법은 프로그램을 여러 작은 부분-짧은 구문, 짧은 메소드, 작은 객체, 작은 패키로 나누는 것이다. 

#### 로직과 데이터의 결합
- 데이터와 그 데이터를 처리하는 로직을 밀접하게-가급적 같은 메소드 혹은 같은 객체 내에 배치하라.
- 프로그램 수정하는 경우 로직과 데이터를 모두 고쳐야 하는 경우가 많다.

#### 대칭성 
- 코드의 대칭성은 하나의 아이디어를 프로그램 전체에서 일관된 방식으로 표현하는 통일성이라고 할 수 있다. 

#### 선언적 표현 
- 수행 순서가 중요한 구문이나 조건부 구분이 없는 일반 구문의 경우, 선언적 표현을 통해 코드를 작성하는 것이 이해하기 쉽다. 

#### 변화율
- 함께 변하는 로직과 데이터를 함께 관리하고, 변화율이 다른 로직과 데이터는 분리하는 것이다. 


## 04 동기유발 
- 소프트웨어 비용은 최초 개발비용과 유지비용으로 구분할 수 있고, 대부분은 유지 보수에 비용이 더 들어간다.
- 필자가 사용하는 비용 절감 전략은 커뮤니케이션하기 쉬운 코드를 짬으로써, 유지보수 비용을 줄인다. 

## 05 클래스 
- 클래스: 이 데이터들은 함꼐 사용되는데, 그에 관련된 로직이 이것이다.
- 단순한 상위클래스 이름: 클래스 계층의 최상위에 위치하는 클래스 이름은 단순하게 짓는다. 
- 한정적 하위클래스 이름: 상위 클래스와의 유사점과 차이점을 분명히 드러낸다.
- 추상 인터페이스: 인터페이스와 구현을 분리한다. 
- 인터페이스: 자주 변하지 않는 추상 인터페이스에는 자바 인터페이스를 사용한다.
- 버전 인터페이스: 하위인터페이스를 사용해 기존 인터페이스를 안전하게 확장한다. 
- 추상 클래스: 자주 바뀔 것 같은 추상 인터페이스에는 추상 클래스를 사용한다.
- 값 객체: 산술 값처럼 동작하는 객체를 사용
- 특화: 관련된 연산 사이의 유사점 및 차이점을 분명하게 나타낸다.
- 하위클래스: 1차원적 변화는 하위클래스를 사용해서 표현한다. 
- 구현자: 연산내용이 변경되면 기존 메소드를 오버라이드해서 사용
- 내부클래스: 클래스 내부에서 유용하게 사용할 수 있는 코드를 모아 전용 클래스로 사요
- 인스턴스별 행동: 인스턴스에 따라 로직에 변화
- 조건문: 명시적 조건에 따라 로직에 변화
- 위임: 여러 종류의 객체 중 하나에 위임해서 로직에 변화
- 플러그인 선택자: 리플랙션을 이용한 메소드 호출로 로직에 변화
- 익명 내부 클래스: 필요한 메소드에서 한두개의 메소드만 오버라이드 하는 객체를 사용
- 라이브러리 클래스: 마땅히 들어갈 곳이 없는 기능들을 묶어서 정적 메소드

### 클래스 
- 클래스 계층을 구성하는 것은 일종의 압축 기법을 사용하는 것으로 상위클래스의 코드를 모두 하위 클래스에 붙여 넣는 것과 같은 효과
- 하위 클래스를 생성하는 것은 상위 클래스와 비슷하지만, 약간 다르다고 이야기 하는 것이다. 

### 단순한 상위 클래스 이름 
- 중요한 클래스에 대해서는 한 단어로 된 이름을 사용하는 것이 좋다.
- 메타포(은유)를 사용하여 단어 하나만으로도 연상작용을 통해 여러관련 정보와 내포된 의미를 전달할 수 있다.

### 한정적 하위클래스 이름 
- 상위 클래스와의 유사점과 차이점을 분명히 드러낸다.
- 어느 정도 간결성은 포기하고, 표현성을 택하는 편이 낫다. 보통은 상위 클래스에 한 두개의 수식어를 붙어 정한다. 
- 하지만 하위클래스가 프로그램의 중요한 개념을 의미하는 경우에는 단순한 이름을 사용해야 한다. 
  - Figure->handle->StretchyHandle, TransparencyHandle

### 추상 인터페이스 
- 구현이 아니라 인터페이스에 맞춰 코딩하라는 말이 있다. 설계상의 결정을 필요 이상으로 노출하지 말자는 뜻이다.
- 대부분의 코드가 컬렉션 인터페이스를 사용한다면, 구상 클래스는 나중에 변경할 수 있고, 실제 연산하기 전에만 결정되면 된다.

### 인터페이스 
- 자바 인터페이스를 사용하는 것은 `여기까지가 내가 원하는 것이고, 이외의 내용은 상관하지 않는다`라고 이야기하는 것이다. 
- 구현을 변경하는 것은 쉽지만 인터페이스 자체를 바꾸기는 쉽지 않다.(구현하는 모든 클래스 수정 필요)

### 추상 클래스 (abstract)
- 추상 클래스와 자바 인터페이스의 장단점은 인터페이스 수정의 용이성과 단일 클래스가 여러 인터페이스를 지원할 수 있는지 여부로 귀결된다.
- 최상위에 위치한 클래스를 인스턴스화해서 사용할 가능성이 있다면, 일반 클래스로 만들면 쓸데없는 추상화 계층을 제거할 수 있다. 

### 버전 인터페이스 
- 인터페이스 확장한 인터페이스 추가하는 방식 (default 이후에는 사용되지 않을 듯..)

### 값 객체